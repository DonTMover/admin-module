{% extends 'base.html' %}
{% block content %}
<div class="max-w-2xl mx-auto fade-in">
  <h2 class="text-2xl font-semibold mb-4">Профиль</h2>
  <div class="grid gap-4" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));">
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Email</h3>
      <p class="mt-1">{{ current_user.email }}</p>
    </div>
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Имя</h3>
      <p class="mt-1">{{ current_user.full_name or '—' }}</p>
    </div>
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Логинов</h3>
      <p class="mt-1">{{ current_user.login_count }}</p>
    </div>
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Создан</h3>
      <p class="mt-1">{{ current_user.created_at }}</p>
    </div>
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Последний вход</h3>
      <p class="mt-1">{{ current_user.last_login or '—' }}</p>
    </div>
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Дней с создания</h3>
      <p class="mt-1">{{ days_since_creation|round(2) if days_since_creation else '—' }}</p>
    </div>
    <div class="card transition-theme">
      <h3 class="text-sm font-medium">Часов с последнего входа</h3>
      <p class="mt-1">{{ hours_since_last_login|round(2) if hours_since_last_login else '—' }}</p>
    </div>
  </div>
  <div class="mt-6">
    <button id="logoutBtn" class="btn-outline" style="padding:.5rem .9rem;border-radius:6px;">Logout</button>
  </div>
</div>
<script>
document.getElementById('logoutBtn').addEventListener('click',()=>{
  localStorage.removeItem('access_token');
  window.location.href='/admin/login';
});
</script>
{% endblock %}