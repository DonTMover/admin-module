<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ title or 'Admin' }}</title>
  <link rel="stylesheet" href="/static/css/theme.css" />
  <link rel="stylesheet" href="/static/css/animations.css" />
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>
<body>
  <header class="site-header transition-theme">
    <div class="container header-inner" style="display:flex;align-items:center;gap:1.5rem;">
      <h1 class="logo" style="margin:0;font-size:1.25rem;">{{ title or '–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞' }}</h1>
      <nav class="main-nav" style="display:flex;gap:1rem;">
        <a href="/admin/" class="nav-link">Dashboard</a>
        <a href="/auth/register" class="nav-link">Register</a>
      </nav>
      <div style="margin-left:auto;display:flex;align-items:center;gap:.75rem;">
        <button id="themeToggle" class="btn-outline" style="padding:.45rem .8rem;border-radius:6px;">üåì</button>
        {% if current_user %}
          <span class="badge pulse-accent">{{ current_user.email }}</span>
        {% else %}
          <a class="btn-outline" href="/admin/login" style="padding:.45rem .8rem;border-radius:6px;">Login</a>
        {% endif %}
      </div>
    </div>
  </header>
  <main class="container">
    {% block content %}{% endblock %}
  </main>
  <footer class="site-footer transition-theme">
    <div class="container"><small>¬© 2025 Admin Module</small></div>
  </footer>
  <script src="/static/js/main.js"></script>
  <script>
    (function(){
      const root = document.documentElement;
      const key = 'admin_theme';
      function apply(theme){ root.setAttribute('data-theme', theme); }
      const saved = localStorage.getItem(key) || 'light';
      apply(saved);
      document.getElementById('themeToggle').addEventListener('click',()=>{
        const next = root.getAttribute('data-theme') === 'light' ? 'dark':'light';
        apply(next); localStorage.setItem(key,next);
      });
    })();
  </script>
</body>
</html>
